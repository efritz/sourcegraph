<!-- DO NOT EDIT DIRECTLY -->
<!-- Generated by protoc-gen-doc. Regenerate using `./dev/proto-generate.sh`. -->

# LSIF Typed protocol reference

An index contains one or more pieces of information about a given piece of
source code or software artifact. Complementary information can be merged
together from multiple sources to provide a unified code intelligence
experience.

Programs producing a file of this format is an "indexer" and may operate
somewhere on the spectrum between precision, such as indexes produced by
compiler-backed indexers, and heurstics, such as indexes produced by local
syntax-directed analysis for scope rules.

See the `Index` message for additional documentation.
### Document

Document defines information about a particular source file.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **relative_path** | string | Relative path to the `Index.project_root` directory.
| repeated **occurrences** | Occurrence | Symbol occurrences that appear in this file.
| repeated **symbols** | Symbol | Symbols that are defined within this document.



### Index

A representation of an index that can be emitted and consumed as as single
message payload. An index may also be represented by a length-prefixed stream
of index messages with the following ordering constraints:

1. The first message in the stream must provide metadata, and must be the
only message to do so.
2. If a document references a symbol, the associated symbol information, if
it exists, must have preceeded the document in the stream. This allows a
document to be fully-processed once encountered. Note that symbols may
reference each other, and a symbol object may not be logically "closed" until
the end of the stream and some use cases will still be required to read the
stream to completion.

These constraints allow the index to be processed with minimal bookkeeping
overhead, and allows partial processing to stop early on successful match.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **metadata** | Metadata | (Required) Metadata about this index such as tool and protocol versioning and identification of the indexing environment.
| repeated **document** | Document | Documents that belong to this index or the packages that are defined by this index.
| repeated **package** | Package | Packages that are either referenced from this index or the packages that are defined by this index.
| repeated **external_symbols** | Symbol | Symbols that are defined outside of this index but are referenced from inside this index.




### Metadata

Metadata contains tool and protocol version information, indexer
self-identification, and data that encodes the indexing environment. Unlike
the other messages defined in this index, the contents of this message may
not be "stable" bewteen indexer invocations producing the same logical index
For example, `Metadata.project_root` encodes the local working directory.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **protocol_version** | ProtocolVersion | (Required) An explicit version of the encoding used for this index. Changes to this value may change the interpretation of parsed strings (such as symbol identifiers) in tools consuming the index.
|  **tool_info** | ToolInfo | (Required) Information about the tool that created the index.
|  **project_root** | string | (Required) A URI-encoded absolute path to the root directory of this index. The documents also contained in the associated index are defined relative to this directory.
|  **text_document_encoding** | TextDocumentEncoding | (Required) The string encoding used to compute correct text selections within the text documents defining the indexed source code. Positions within text documents are expressed as zero-based line and character offsets based on the string representations of the text with the given encoding.




#### ProtocolVersion

Possible index protocol versions.

| Number | Name | Description |
| ------ | ---- | ----------- |
| 0 | UnspecifiedProtocolVersion | Currently, the only version available while the protocol is in design-flux. Once we are reasonably sure about the direction of this protocol, we will create a new non-zero version and enforce a version check in consumers for safety and forwards-compatibility.
#### TextDocumentEncoding

Possible text document encodings.

| Number | Name | Description |
| ------ | ---- | ----------- |
| 0 | UnspecifiedEncoding | (Invalid) Unknown encoding. Consumers may attempt to choose a sane default or auto-detect an encoding of text documents when rendering selections of code.
| 1 | UTF8 | Text documents are encoded in UTF-8.
| 2 | UTF16 | Text documents are encoded in UTF-16 (e.g., TypeScript).
### Occurrence

Occurrence associates a source position with a symbol and/or highlighting
information.

| Name | Type | Description |
| ---- | ---- | ----------- |
| repeated **range** | int32 | The source position of this occurrence. Must be exactly three or four elements:
|  **symbol_uri** | string | (optional) References the `Symbol.uri` field. Can be empty if this is only a highlighting occurrence.
|  **symbol_role** | Role | (optional) Is the symbol_uri defined or referenced at this occurrence?
| repeated **symbol_documentation** | string | (optional) Markdown-formatted documentation for this specific range.  If empty, the `Symbol.documentation` field is used instead. One example where this field might be useful is when the symbol represents a generic function (with abstract type parameters such as `List<T>`) and at this occurrence we know the exact values (such as `List<String>`).
|  **highlight** | Highlight | (optional) What syntax highlighting class should be used for this range?

Additional notes on **range**:

The source position of this occurrence. Must be exactly three or four
elements:

- Four elements: `[startLine, startCharacter, endLine, endCharacter]`
- Three elements: `[startLine, startCharacter, endCharacter] (endLine ==
startLine)`

Line numbers and characters are always 0-based. Make sure to increment the
line/character values before displaying them in an editor-like UI because
editors conventionally use 1-based numbers.

Ranges appear frequently in real-world LSIF payloads, the `repeated int32`
encoding was chosen over the LSP `Range(start:Position,end:Position)`
encoding for performance reasons.  Benchmarks reveal that this change alone
reduces the total payload size by ~2x in both compressed JSON or Protobuf
encoding. This encoding is admittedly more embarrassing to work with in
some programming languages but we hope the increased performance
improvements make up for it.





#### Highlight



| Number | Name | Description |
| ------ | ---- | ----------- |
| 0 | HIGHLIGHT_UNSPECIFIED | 
| 1 | HIGHLIGHT_STRING_LITERAL | 
| 2 | HIGHLIGHT_NUMERIC_LITERAL | 
| 3 | HIGHLIGHT_IDENTIFIER | 
| 4 | HIGHLIGHT_METHOD_IDENTIFIER | 
| 5 | HIGHLIGHT_TYPE_IDENTIFIER | 
| 6 | HIGHLIGHT_TERM_IDENTIFIER | 
| 7 | HIGHLIGHT_LOCAL_IDENTIFIER | 
| 8 | HIGHLIGHT_SHADED_IDENTIFIER | 
| 9 | HIGHLIGHT_PACKAGE_IDENTIFIER | 
#### Role



| Number | Name | Description |
| ------ | ---- | ----------- |
| 0 | ROLE_UNSPECIFIED | 
| 1 | ROLE_DEFINITION | 
| 2 | ROLE_REFERENCE | 
### Package

Package defines a publishable artifact such as an npm package, Docker
container, JVM dependency, or a Cargo crate.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **uri** | string | The unique identifier of this package that can be referenced from `Symbol.package_uri`.  This URI is not intended to be displayed to humans, but it's recommended to use a human-readable format to aid with debugging.
|  **name** | string | Name of this package, for example "@types/react" or "com.google.guava:guava".
|  **version** | string | Version of this package, for example "0.1.0" or "2.1.5".
|  **manager** | string | Package manager, for example "npm", "maven" or "cargo".




### Symbol

Symbol defines a symbol, such as a function or an interface.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **uri** | string | The identifier of this symbol, which can be referenced from Occurence. An empty uri means this symbol can be ignored.
|  **unique** | Unique | Determines whether this symbol is local to a single document or if can be referenced from multiple documents. Document symbols (`Document.symbols`) can be either local or global. External symbols (`Index.external_symbols`) must be global.
| repeated **documentation** | string | (optional, but strongly recommended) The markdown-formatted documentation for this symbol. This field is repeated to allow different kinds of documentation.  For example, it's nice to include both the signature of a method (parameters and return type) along with the accompanying docstring.
|  **package_uri** | string | (optional) Links to the original package that defines this symbol to enable navigation across different LSIF indexes (whether they come from different projects or git repositories). This field must be non-empty for toplevel symbols (`Value.value`).
| repeated **reference_symbols** | string | (optional) Symbols that should be included together with this symbol when resolving "find references".  For example, the symbol of a TypeScript or Java method that implements an interface method should list the interface method here.
| repeated **implementation_symbols** | string | (optional) Symbols that are "implemented" by this symbol. For example, the symbol of a TypeScript or Java class that implements an interface should list the interface here.






#### Unique



| Number | Name | Description |
| ------ | ---- | ----------- |
| 0 | UNIQUE_UNSPECIFIED | 
| 1 | UNIQUE_DOCUMENT | 
| 2 | UNIQUE_GLOBAL | 
### ToolInfo

A description of the indexer (and the invocation) that produced a specific
index.

| Name | Type | Description |
| ---- | ---- | ----------- |
|  **name** | string | (Required) The name of the tool that created a specific index.
|  **version** | string | (Required) The version of the tool that created a specific index.
| repeated **arguments** | string | (Required) The list of command line arguments supplied to the indexer that created a specific index.



